<div class="panel panel-default">
    <div class="panel-heading" ng-click="getContactOrganizations()">
        <h3 class="panel-title">Organizations ({{contact.organizations.length}})</h3>
    </div>
    <div class="panel-body" ng-show="showingOrganizations">
        <button class="btn btn-md btn-primary" ng-click="getOrganizations()">Add Organization</button>

        <div ng-if="addOrganization.hidden == false">
            <div class="form-group">
                <label>Existing Organizations:
                    <select class="form-control input-small" ng-model="addOrganization.index">
                        <option ng-repeat="organization in organizations | byAlreadyBelongsTo:contact.organizations"
                                value="{{$index}}">{{organization.name}}
                        </option>
                    </select>
                </label>
                <button class="btn btn-md btn-success" ng-click="addToOrganization(addOrganization.index)">Submit</button>
            </div>
            <button class="btn btn-md btn-success" ng-click="addOrganization.hidden = !addOrganization.hidden">Add to New Organization</button>
            <div ng-if="addOrganization.hidden == false">
                <div class="from-group">
                    <label>Name
                        <input type="text" class="form-control input-sm" ng-model="addOrganization.name">
                    </label>
                </div>
                <div class="from-group">
                    <label>Street Address
                        <input type="text" class="form-control input-sm" ng-model="addOrganization.streetAddress">
                    </label>
                </div>
                <div class="from-group">
                    <label>City
                        <input type="text" class="form-control input-sm" ng-model="addOrganization.city">
                    </label>
                </div>
                <div class="from-group">
                    <label>State
                        <input type="text" class="form-control input-sm" ng-model="addOrganization.state">
                    </label>
                </div>
                <div class="from-group">
                    <label>Zip
                        <input type="text" class="form-control input-sm" ng-model="addOrganization.zipCode">
                    </label>
                </div>
                <div class="from-group">
                    <label>Description
                        <input type="text" class="form-control input-sm" ng-model="addOrganization.description">
                    </label>
                </div>
                <div class="from-group">
                    <label>Primary Contact
                        <input type="text" class="form-control input-sm" ng-model="addOrganization.primaryContactName">
                    </label>
                </div>
                <div class="from-group">
                    <label>Phone
                        <input type="text" class="form-control input-sm" ng-model="addOrganization.phoneNumber">
                    </label>
                </div>
                <div class="from-group">
                    <label>Email
                        <input type="text" class="form-control input-sm" ng-model="addOrganization.email">
                    </label>
                </div>
                <button class="btn btn-md btn-success" ng-click="createAndAddToOrganization(addOrganization)">Submit</button>
            </div>
        </div>
        <div ng-show="organizationSuccess == false" class="alert alert-danger alert-dismissable" role="alert">
            Unable to add Organization
        </div>


        <table class="bootstrap-table table table-striped table-hover table-responsive"
               data-toggle="table"
               data-pagination="true"
               data-search="true">
            <tr>
                <th>Name</th>
                <th>Details</th>
            </tr>

            <tr ng-repeat="organization in contact.organizations">
                <td>{{organization.name}}</td>
                <td><a class="btn btn-md btn-info" href="#/organizations/organization/{{organization.id}}">View
                    Details</a></td>
            </tr>
        </table>
    </div>
</div>

</div>